Based on http://truthabouteventloops.com/ material. Mainly Marc-Andre Cournoyer's syscalls node module.